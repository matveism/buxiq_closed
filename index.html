
<!DOCTYPE html>
<html lang="en" x-data="{ sidebarOpen: false, activeSection: 'home', loggedIn: false, userData: {} }" 
      :class="{'overflow-hidden': sidebarOpen}" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUXiQ PRO+ | Modern Rewards Platform</title>
    


    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUXiQ PRO+ | Next-Gen Rewards Platform</title>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet" />
    
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    
    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                        geist: ['Geist', 'sans-serif'],
                        'geist-mono': ['Geist Mono', 'monospace'],
                    },
                    colors: {
                        dark: {
                            1000: '#05070D',
                            950: '#0A0F18',
                            900: '#101722',
                            850: '#161F2C',
                            800: '#1D2736',
                            750: '#243041',
                            700: '#2C394C',
                        },
                        light: {
                            100: '#FAFAFA',
                            200: '#F5F5F5',
                            300: '#EEEEEE',
                            400: '#E0E0E0',
                        },
                        primary: {
                            DEFAULT: '#6366F1',
                            50: '#EEF0FF',
                            100: '#E0E2FF',
                            200: '#C7CAFF',
                            300: '#A5A8FF',
                            400: '#8184FF',
                            500: '#6366F1',
                            600: '#5145E6',
                            700: '#4338CA',
                            800: '#372FA5',
                            900: '#312E81',
                        },
                        surface: {
                            100: '#1A1D24',
                            200: '#21252E',
                            300: '#272D38',
                            400: '#2E3542',
                            500: '#353E4D',
                        },
                        accent: {
                            DEFAULT: '#EC4899',
                            50: '#FDF2F8',
                            100: '#FCE7F3',
                            200: '#FBCFE8',
                            300: '#F9A8D4',
                            400: '#F472B6',
                            500: '#EC4899',
                            600: '#DB2777',
                            700: '#BE185D',
                            800: '#9D174D',
                            900: '#831843',
                        },
                        success: {
                            DEFAULT: '#10B981',
                            50: '#ECFDF5',
                            100: '#D1FAE5',
                            200: '#A7F3D0',
                            300: '#6EE7B7',
                            400: '#34D399',
                            500: '#10B981',
                            600: '#059669',
                            700: '#047857',
                            800: '#065F46',
                            900: '#064E3B',
                        },
                        warning: {
                            DEFAULT: '#F59E0B',
                            50: '#FFFBEB',
                            100: '#FEF3C7',
                            200: '#FDE68A',
                            300: '#FCD34D',
                            400: '#FBBF24',
                            500: '#F59E0B',
                            600: '#D97706',
                            700: '#B45309',
                            800: '#92400E',
                            900: '#78350F',
                        },
                        danger: {
                            DEFAULT: '#EF4444',
                            50: '#FEF2F2',
                            100: '#FEE2E2',
                            200: '#FECACA',
                            300: '#FCA5A5',
                            400: '#F87171',
                            500: '#EF4444',
                            600: '#DC2626',
                            700: '#B91C1C',
                            800: '#991B1B',
                            900: '#7F1D1D',
                        },
                    },
                    backgroundImage: {
                        'grid-pattern': "url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h60v60H0z' fill='none'/%3E%3Cpath d='M60 60V0H0v60h60z' fill='none'/%3E%3Cpath d='M0 0h60v60H0V0zm60 60V0H0v60h60z' fill='none'/%3E%3Cpath d='M0 0h60v60H0V0zm60 60V0H0v60h60z' fill='none'/%3E%3Cpath d='M30 0v60M0 30h60' stroke='%236366F1' stroke-opacity='0.05' stroke-width='1'/%3E%3C/svg%3E\")",
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                        'gradient-conic': 'conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))',
                        'main-gradient': 'linear-gradient(135deg, #0A0F18 0%, #1D2736 100%)',
                        'card-gradient': 'linear-gradient(152deg, rgba(26,29,36,0.8) 0%, rgba(33,37,46,0.6) 100%)',
                        'sidebar-gradient': 'linear-gradient(180deg, #05070D 0%, #101722 100%)',
                        'primary-gradient': 'linear-gradient(135deg, #6366F1 0%, #EC4899 100%)',
                        'glass-gradient': 'linear-gradient(135deg, rgba(26,29,36,0.7) 0%, rgba(33,37,46,0.5) 100%)',
                    },
                    spacing: {
                        '128': '32rem',
                        '144': '36rem',
                    },
                    animation: {
                        'pulse-slow': 'pulse 6s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'text-glow': 'text-glow 2s ease-in-out infinite alternate',
                        'border-glow': 'border-glow 2s ease-in-out infinite alternate',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-8px)' },
                        },
                        'text-glow': {
                            '0%': { 'text-shadow': '0 0 8px rgba(99, 102, 241, 0.3)' },
                            '100%': { 'text-shadow': '0 0 12px rgba(99, 102, 241, 0.6)' }
                        },
                        'border-glow': {
                            '0%': { 'box-shadow': '0 0 8px rgba(99, 102, 241, 0.3), inset 0 0 8px rgba(99, 102, 241, 0.3)' },
                            '100%': { 'box-shadow': '0 0 12px rgba(99, 102, 241, 0.6), inset 0 0 12px rgba(99, 102, 241, 0.6)' }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        :root {
            --color-dark-1000: #05070D;
            --color-dark-950: #0A0F18;
            --color-primary-500: #6366F1;
            --color-accent-500: #EC4899;
        }

        body {
            font-family: 'Geist', sans-serif;
            color: white;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: var(--main-gradient);
            background-attachment: fixed;
            overflow-x: hidden;
        }

        /* Glass Morphism Effect */
        .glass {
            background: rgba(26, 29, 36, 0.7);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(99, 102, 241, 0.15);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        /* Modern Card Design */
        .card {
            background: rgba(26, 29, 36, 0.8);
            border-radius: 16px;
            border: 1px solid rgba(99, 102, 241, 0.1);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, rgba(99, 102, 241, 0) 0%, rgba(99, 102, 241, 0.4) 50%, rgba(99, 102, 241, 0) 100%);
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: rgba(99, 102, 241, 0.3);
        }

        /* Primary Gradient Button */
        .btn-primary {
            background: linear-gradient(135deg, var(--color-primary-500) 0%, var(--color-accent-500) 100%);
            color: white;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            border: none;
            z-index: 1;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--color-primary-600) 0%, var(--color-accent-600) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .btn-primary:hover::before {
            opacity: 1;
        }

        /* Secondary Button */
        .btn-secondary {
            background: rgba(33, 37, 46, 0.6);
            color: white;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        .btn-secondary:hover {
            background: rgba(41, 45, 56, 0.8);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.1);
            border-color: rgba(99, 102, 241, 0.3);
        }

        /* Section Transitions */
        .section {
            display: none;
            animation: fadeOut 0.3s ease-out;
        }

        .section.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(10px); }
        }

        /* Status Indicators */
        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 6px;
        }

        .status-active {
            background-color: var(--color-success-500);
            box-shadow: 0 0 10px var(--color-success-500);
        }

        .status-inactive {
            background-color: var(--color-danger-500);
            box-shadow: 0 0 10px var(--color-danger-500);
        }

        .status-pending {
            background-color: var(--color-warning-500);
            box-shadow: 0 0 10px var(--color-warning-500);
        }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(26, 29, 36, 0.3);
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(99, 102, 241, 0.5);
            border-radius: 10px;
        }

        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgba(99, 102, 241, 0.7);
        }

        /* Text Effects */
        .gradient-text {
            background: linear-gradient(90deg, var(--color-primary-500), var(--color-accent-500));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .text-glow {
            animation: text-glow 2s ease-in-out infinite alternate;
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }

        /* Navigation Active State */
        .nav-active {
            position: relative;
            color: white;
        }

        .nav-active::after {
            content: '';
            position: absolute;
            bottom: -6px;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--color-primary-500), var(--color-accent-500));
        }

        /* Badges */
        .badge {
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.3rem 0.6rem;
            border-radius: 12px;
            color: white;
        }

        .badge-primary {
            background-color: rgba(99, 102, 241, 0.2);
            border: 1px solid rgba(99, 102, 241, 0.4);
        }

        .badge-accent {
            background-color: rgba(236, 72, 153, 0.2);
            border: 1px solid rgba(236, 72, 153, 0.4);
        }

        .badge-success {
            background-color: rgba(16, 185, 129, 0.2);
            border: 1px solid rgba(16, 185, 129, 0.4);
        }

        .badge-warning {
            background-color: rgba(245, 158, 11, 0.2);
            border: 1px solid rgba(245, 158, 11, 0.4);
        }

        .badge-danger {
            background-color: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.4);
        }

        /* Input Fields */
        .input-field {
            background: rgba(33, 37, 46, 0.6);
            border: 1px solid rgba(99, 102, 241, 0.2);
            color: white;
            border-radius: 12px;
            padding: 0.8rem 1.2rem;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            font-family: 'Geist', sans-serif;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--color-primary-500);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
        }

        .input-field::placeholder {
            color: rgba(255, 255, 255, 0.5);
            font-family: 'Geist', sans-serif;
        }

        /* Modal */
        .modal-overlay {
            background: rgba(5, 7, 13, 0.9);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: rgba(26, 29, 36, 0.9);
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(99, 102, 241, 0.2);
            animation: modalEnter 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes modalEnter {
            from { opacity: 0; transform: translateY(20px) scale(0.95); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* Progress Bar */
        .progress-bar {
            height: 8px;
            border-radius: 4px;
            background-color: rgba(33, 37, 46, 0.6);
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            background: linear-gradient(90deg, var(--color-primary-500), var(--color-accent-500));
            transition: width 0.6s cubic-bezier(0.16, 1, 0.3, 1);
        }

        /* Tooltip */
        .tooltip {
            position: relative;
        }

        .tooltip:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(26, 29, 36, 0.95);
            color: white;
            padding: 0.6rem 1rem;
            border-radius: 8px;
            font-size: 0.85rem;
            white-space: nowrap;
            z-index: 100;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(99, 102, 241, 0.2);
            font-family: 'Geist', sans-serif;
        }

        /* Avatar */
        .avatar {
            border: 2px solid rgba(99, 102, 241, 0.4);
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.2);
        }

        /* Spinner */
        .spinner {
            border: 3px solid rgba(99, 102, 241, 0.2);
            border-top: 3px solid var(--color-primary-500);
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Divider */
        .divider {
            position: relative;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(99, 102, 241, 0.3), transparent);
        }

        .divider::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, var(--color-primary-500), var(--color-accent-500));
            border-radius: 3px;
        }

        /* Sidebar */
        .sidebar {
            background: var(--sidebar-gradient);
            box-shadow: 8px 0 20px rgba(0, 0, 0, 0.3);
            border-right: 1px solid rgba(99, 102, 241, 0.1);
        }

        .sidebar-item {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 3px solid transparent;
            position: relative;
            overflow: hidden;
            margin: 0.25rem 0;
            border-radius: 8px;
        }

        .sidebar-item:hover {
            background: rgba(99, 102, 241, 0.08);
        }

        .sidebar-item.active {
            background: rgba(99, 102, 241, 0.15);
            border-left: 3px solid var(--color-primary-500);
        }

        .sidebar-item .icon {
            transition: all 0.2s ease;
        }

        .sidebar-item.active .icon,
        .sidebar-item:hover .icon {
            transform: scale(1.1);
        }

        /* Balance Card */
        .balance-card {
            background: rgba(6, 42, 21, 0.4);
            border: 1px solid rgba(16, 185, 129, 0.2);
            position: relative;
            overflow: hidden;
        }

        .balance-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, rgba(16, 185, 129, 0) 0%, rgba(16, 185, 129, 0.5) 50%, rgba(16, 185, 129, 0) 100%);
        }

        .balance-card .currency {
            color: var(--color-success-400);
        }

        /* Background Patterns */
        .bg-grid-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 0h60v60H0z' fill='none'/%3E%3Cpath d='M60 60V0H0v60h60z' fill='none'/%3E%3Cpath d='M0 0h60v60H0V0zm60 60V0H0v60h60z' fill='none'/%3E%3Cpath d='M0 0h60v60H0V0zm60 60V0H0v60h60z' fill='none'/%3E%3Cpath d='M30 0v60M0 30h60' stroke='%236366F1' stroke-opacity='0.05' stroke-width='1'/%3E%3C/svg%3E");
        }

        .bg-dot-pattern {
            background-image: radial-gradient(rgba(99, 102, 241, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* Special Effects */
        .glow-effect {
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.4);
        }

        .border-glow {
            animation: border-glow 2s ease-in-out infinite alternate;
        }

        /* Custom Elements */
        .corner-accent {
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.15;
            z-index: -1;
        }

        .corner-accent-primary {
            background: var(--color-primary-500);
            top: -100px;
            right: -100px;
        }

        .corner-accent-accent {
            background: var(--color-accent-500);
            bottom: -100px;
            left: -100px;
        }

        /* Responsive Adjustments */
        @media (min-width: 1024px) {
            body {
                flex-direction: row;
            }

            .sidebar {
                position: relative;
                width: 280px;
                flex-shrink: 0;
                height: auto;
                min-height: 100vh;
            }

            .main-content {
                flex-grow: 1;
                padding: 2.5rem;
            }

            .mobile-header, .mobile-nav {
                display: none;
            }
        }

        @media (max-width: 1023.98px) {
            body {
                flex-direction: column;
            }
            
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
                position: fixed;
                z-index: 50;
                height: 100vh;
                top: 0;
                left: 0;
                width: 280px;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .sidebar-overlay {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(5, 7, 13, 0.85);
                z-index: 40;
                backdrop-filter: blur(8px);
            }

            .mobile-header {
                display: flex;
                width: 100%;
            }

            .mobile-nav {
                display: flex;
            }

            .main-content {
                padding-bottom: 6rem;
            }
        }

        /* Notification Panel */
        .notification-panel {
            transform: translateX(100%);
            transition: transform 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .notification-panel.open {
            transform: translateX(0);
        }

        /* Data Table */
        .data-table {
            border-collapse: separate;
            border-spacing: 0;
        }

        .data-table th {
            background: rgba(33, 37, 46, 0.6);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .data-table tr:not(:last-child) td {
            border-bottom: 1px solid rgba(99, 102, 241, 0.1);
        }

        .data-table tr:hover td {
            background: rgba(99, 102, 241, 0.05);
        }

        /* Chart Container */
        .chart-container {
            background: rgba(26, 29, 36, 0.6);
            border-radius: 16px;
            border: 1px solid rgba(99, 102, 241, 0.1);
        }

        /* Floating Action Button */
        .fab {
            box-shadow: 0 6px 20px rgba(99, 102, 241, 0.3);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .fab:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 25px rgba(99, 102, 241, 0.4);
        }

        /* KPI Card */
        .kpi-card {
            background: rgba(26, 29, 36, 0.6);
            border-radius: 16px;
            border: 1px solid rgba(99, 102, 241, 0.1);
            transition: all 0.3s ease;
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border-color: rgba(99, 102, 241, 0.3);
        }

        /* Tabs */
        .tab-item {
            transition: all 0.2s ease;
            border-bottom: 2px solid transparent;
        }

        .tab-item:hover {
            color: white;
            border-bottom-color: rgba(99, 102, 241, 0.5);
        }

        .tab-item.active {
            color: white;
            border-bottom-color: var(--color-primary-500);
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(33, 37, 46, 0.8);
            transition: .4s;
            border-radius: 24px;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .toggle-slider {
            background-color: var(--color-primary-500);
        }

        input:checked + .toggle-slider:before {
            transform: translateX(26px);
        }

        /* Radio Buttons */
        .radio-button {
            position: relative;
            cursor: pointer;
        }

        .radio-button input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        .radio-checkmark {
            position: absolute;
            top: 0;
            left: 0;
            height: 20px;
            width: 20px;
            background-color: rgba(33, 37, 46, 0.8);
            border-radius: 50%;
            border: 1px solid rgba(99, 102, 241, 0.3);
        }

        .radio-button:hover .radio-checkmark {
            background-color: rgba(99, 102, 241, 0.1);
        }

        .radio-button input:checked ~ .radio-checkmark {
            background-color: var(--color-primary-500);
            border-color: var(--color-primary-500);
        }

        .radio-checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        .radio-button input:checked ~ .radio-checkmark:after {
            display: block;
        }

        .radio-button .radio-checkmark:after {
            top: 6px;
            left: 6px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: white;
        }

        /* Checkbox */
        .checkbox {
            position: relative;
            cursor: pointer;
        }

        .checkbox input {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        .checkbox-mark {
            position: absolute;
            top: 0;
            left: 0;
            height: 20px;
            width: 20px;
            background-color: rgba(33, 37, 46, 0.8);
            border-radius: 6px;
            border: 1px solid rgba(99, 102, 241, 0.3);
        }

        .checkbox:hover .checkbox-mark {
            background-color: rgba(99, 102, 241, 0.1);
        }

        .checkbox input:checked ~ .checkbox-mark {
            background-color: var(--color-primary-500);
            border-color: var(--color-primary-500);
        }

        .checkbox-mark:after {
            content: "";
            position: absolute;
            display: none;
        }

        .checkbox input:checked ~ .checkbox-mark:after {
            display: block;
        }

        .checkbox .checkbox-mark:after {
            left: 7px;
            top: 3px;
            width: 5px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        /* Range Slider */
        .range-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(33, 37, 46, 0.8);
            outline: none;
        }

        .range-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--color-primary-500);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .range-slider::-webkit-slider-thumb:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
        }

        /* Accordion */
        .accordion-item {
            border-bottom: 1px solid rgba(99, 102, 241, 0.1);
        }

        .accordion-header {
            transition: all 0.2s ease;
        }

        .accordion-header:hover {
            background: rgba(99, 102, 241, 0.05);
        }

        .accordion-content {
            transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        /* Toast Notification */
        .toast {
            animation: toastEnter 0.4s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        @keyframes toastEnter {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Loading Skeleton */
        .skeleton {
            background: linear-gradient(90deg, rgba(33, 37, 46, 0.8), rgba(41, 45, 56, 0.6), rgba(33, 37, 46, 0.8));
            background-size: 200% 100%;
            animation: skeletonLoading 1.5s infinite;
        }

        @keyframes skeletonLoading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        /* Avatar Group */
        .avatar-group {
            display: flex;
        }

        .avatar-group .avatar {
            margin-left: -10px;
            border: 2px solid rgba(26, 29, 36, 0.8);
        }

        .avatar-group .avatar:first-child {
            margin-left: 0;
        }

        /* Dropdown Menu */
        .dropdown-menu {
            animation: dropdownEnter 0.2s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        @keyframes dropdownEnter {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Pagination */
        .pagination-item {
            transition: all 0.2s ease;
            border-radius: 8px;
        }

        .pagination-item:hover {
            background: rgba(99, 102, 241, 0.1);
        }

        .pagination-item.active {
            background: var(--color-primary-500);
            color: white;
        }

        /* Breadcrumbs */
        .breadcrumb-item:not(:last-child)::after {
            content: '/';
            margin: 0 0.5rem;
            color: rgba(255, 255, 255, 0.5);
        }

        /* Toolbar */
        .toolbar {
            background: rgba(26, 29, 36, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(99, 102, 241, 0.1);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        /* Empty State */
        .empty-state {
            background: rgba(26, 29, 36, 0.4);
            border: 1px dashed rgba(99, 102, 241, 0.3);
        }

        /* Timeline */
        .timeline-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 11px;
            top: 24px;
            height: calc(100% - 24px);
            width: 2px;
            background: rgba(99, 102, 241, 0.2);
        }

        .timeline-dot {
            background: var(--color-primary-500);
            box-shadow: 0 0 0 4px rgba(99, 102, 241, 0.2);
        }

        /* Code Block */
        .code-block {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.2);
            font-family: 'Geist Mono', monospace;
        }

        /* Stepper */
        .stepper-item:not(:last-child)::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 20px;
            height: calc(100% - 20px);
            width: 2px;
            background: rgba(99, 102, 241, 0.2);
            transform: translateX(-50%);
        }

        .stepper-dot {
            background: rgba(33, 37, 46, 0.8);
            border: 2px solid rgba(99, 102, 241, 0.3);
        }

        .stepper-item.active .stepper-dot {
            background: var(--color-primary-500);
            border-color: var(--color-primary-500);
        }

        /* Avatar Initials */
        .avatar-initials {
            background: linear-gradient(135deg, var(--color-primary-500), var(--color-accent-500));
            color: white;
            font-weight: 600;
        }

        /* Rating Stars */
        .rating-star {
            color: rgba(255, 255, 255, 0.2);
            transition: all 0.2s ease;
        }

        .rating-star.active {
            color: var(--color-warning-500);
        }

        /* Circular Progress */
        .circular-progress {
            position: relative;
            width: 60px;
            height: 60px;
        }

        .circular-progress-circle {
            fill: none;
            stroke: rgba(33, 37, 46, 0.8);
            stroke-width: 6;
        }

        .circular-progress-fill {
            fill: none;
            stroke: var(--color-primary-500);
            stroke-width: 6;
            stroke-linecap: round;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
            transition: stroke-dashoffset 0.6s ease;
        }

        /* Carousel */
        .carousel-item {
            flex: 0 0 auto;
            scroll-snap-align: start;
            transition: transform 0.3s ease;
        }

        .carousel-item:hover {
            transform: scale(1.02);
        }

        /* Tag Input */
        .tag-input-tag {
            background: rgba(99, 102, 241, 0.2);
            border: 1px solid rgba(99, 102, 241, 0.3);
        }

        /* Color Picker */
        .color-picker-swatch {
            box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1);
        }

        /* Date Picker */
        .date-picker-day:hover:not(.disabled) {
            background: rgba(99, 102, 241, 0.1);
        }

        .date-picker-day.selected {
            background: var(--color-primary-500);
            color: white;
        }

        /* Time Picker */
        .time-picker-hand {
            background: var(--color-primary-500);
        }

        /* File Upload */
        .file-upload-dropzone {
            border: 2px dashed rgba(99, 102, 241, 0.3);
            transition: all 0.2s ease;
        }

        .file-upload-dropzone:hover {
            border-color: var(--color-primary-500);
            background: rgba(99, 102, 241, 0.05);
        }

        /* Split Pane */
        .split-pane-handle {
            background: rgba(33, 37, 46, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        /* Tree View */
        .tree-view-item-toggle {
            transition: all 0.2s ease;
        }

        .tree-view-item-toggle:hover {
            color: var(--color-primary-500);
        }

        /* Context Menu */
        .context-menu {
            animation: dropdownEnter 0.2s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        /* Tooltip Custom */
        .custom-tooltip {
            animation: fadeIn 0.2s ease-out;
            background: rgba(26, 29, 36, 0.95);
            border: 1px solid rgba(99, 102, 241, 0.2);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
        }

        /* Popover */
        .popover-content {
            animation: dropdownEnter 0.2s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(99, 102, 241, 0.2);
        }

        /* Command Palette */
        .command-palette {
            animation: modalEnter 0.3s cubic-bezier(0.16, 1, 0.3, 1);
            background: rgba(26, 29, 36, 0.98);
            border: 1px solid rgba(99, 102, 241, 0.2);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }

        /* Tour */
        .tour-highlight {
            box-shadow: 0 0 0 9999px rgba(5, 7, 13, 0.9), 0 0 15px rgba(99, 102, 241, 0.5);
        }

        /* Heatmap */
        .heatmap-cell {
            transition: all 0.2s ease;
        }

        .heatmap-cell:hover {
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

        /* Org Chart */
        .org-chart-node {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.2);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Network Graph */
        .network-graph-node {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Sankey Diagram */
        .sankey-link {
            opacity: 0.6;
            transition: opacity 0.2s ease;
        }

        .sankey-link:hover {
            opacity: 1;
        }

        /* Gantt Chart */
        .gantt-bar {
            background: rgba(99, 102, 241, 0.6);
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .gantt-bar:hover {
            background: var(--color-primary-500);
            box-shadow: 0 0 10px rgba(99, 102, 241, 0.3);
        }

        /* Calendar */
        .calendar-day:hover:not(.disabled) {
            background: rgba(99, 102, 241, 0.1);
        }

        .calendar-day.selected {
            background: var(--color-primary-500);
            color: white;
        }

        /* Kanban Board */
        .kanban-column {
            background: rgba(26, 29, 36, 0.6);
            border: 1px solid rgba(99, 102, 241, 0.1);
        }

        .kanban-card {
            background: rgba(33, 37, 46, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.1);
            transition: all 0.2s ease;
        }

        .kanban-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border-color: rgba(99, 102, 241, 0.3);
        }

        /* Mind Map */
        .mindmap-node {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Flowchart */
        .flowchart-node {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Family Tree */
        .familytree-node {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Decision Tree */
        .decisiontree-node {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* ER Diagram */
        .erd-entity {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* UML Diagram */
        .uml-class {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* BPMN Diagram */
        .bpmn-activity {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Sequence Diagram */
        .sequence-actor {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* State Diagram */
        .state-state {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Class Diagram */
        .class-class {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Use Case Diagram */
        .usecase-actor {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Activity Diagram */
        .activity-action {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Component Diagram */
        .component-component {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Deployment Diagram */
        .deployment-node {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Object Diagram */
        .object-object {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Package Diagram */
        .package-package {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Profile Diagram */
        .profile-profile {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Timing Diagram */
        .timing-lifeline {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Interaction Overview Diagram */
        .interaction-frame {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Communication Diagram */
        .communication-object {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Composite Structure Diagram */
        .composite-part {
            background: rgba(26, 29, 36, 0.8);
            border: 1px solid rgba(99, 102, 241, 0.3);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body class="bg-dark-950 text-light-200">
    <!-- Mobile sidebar overlay -->
    <div id="sidebarOverlay" class="sidebar-overlay hidden md:hidden"></div>

    <!-- Sidebar -->
    <div id="sidebar" class="sidebar fixed md:relative flex-shrink-0 h-full z-40 md:z-auto">
        <div class="flex flex-col h-full">
            <!-- Logo -->
            <div class="flex items-center justify-between p-6 border-b border-white/10">
                <div class="flex items-center space-x-3">
                    <div class="hexagon w-10 h-10 flex items-center justify-center bg-gradient-to-br from-red-600 to-orange-500">
                        <span class="material-symbols-rounded text-white text-xl">paid</span>
                    </div>
                    <span class="text-xl font-bold font-space gradient-text">BUXiQ</span>
                </div>
                <button id="closeSidebar" class="md:hidden text-white/50 hover:text-white">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>

            <!-- User Profile -->
            <div class="p-4 border-b border-white/10">
                <div class="flex items-center space-x-3">
                    <div class="relative">
                        <img id="useravatar" src="https://ui-avatars.com/api/?background=c31432&color=fff&name=User" alt="User Avatar" class="w-12 h-12 rounded-full avatar">
                        <span id="level" class="absolute -bottom-1 -right-1 bg-gradient-to-br from-red-600 to-orange-500 text-white text-xs font-bold px-2 py-0.5 rounded-full">1</span>
                    </div>
                    <div>
                        <p class="font-medium">Welcome back</p>
                        <p id="usernameDisplay" class="text-sm opacity-70">Guest User</p>
                    </div>
                </div>
            </div>

            <!-- Balance Card -->
            <div class="p-4 border-b border-white/10">
                <div class="balance-card rounded-lg p-4">
                    <div class="flex items-center justify-between">
                        <div>
                            <p class="text-sm opacity-80">Available Balance</p>
                            <p id="balance" class="text-2xl font-bold flex items-center">
                                <span class="currency"></span>
                                <span>0.00</span>
                            </p>
                        </div>
                        <button id="updateBalanceBtn" onclick="updateBalance()" class="text-green-400 hover:text-green-300 p-2 rounded-full transition-all">
                            <span class="material-symbols-rounded">refresh</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="flex-1 overflow-y-auto py-2 custom-scrollbar">
                <button onclick="showSection('home')" class="sidebar-item w-full text-left px-6 py-3 flex items-center space-x-3">
                    <span class="material-symbols-rounded">home</span>
                    <span>Home</span>
                </button>
                 <!-- Leaderboard not in old code, keeping it -->
                <button onclick="showSection('leader')" class="sidebar-item w-full text-left px-6 py-3 flex items-center space-x-3">
                    <span class="material-symbols-rounded">leaderboard</span>
                    <span>Leaderboard</span>
                </button>
                <button onclick="showSection('userdash')" class="sidebar-item w-full text-left px-6 py-3 flex items-center space-x-3">
                    <span class="material-symbols-rounded">person</span>
                    <span>Dashboard</span>
                </button>
                <button onclick="showSection('earn')" class="sidebar-item w-full text-left px-6 py-3 flex items-center space-x-3">
                    <span class="material-symbols-rounded">confirmation_number</span>
                    <span>Redeem Code</span>
                </button>
                <button onclick="showSection('chat')" class="sidebar-item w-full text-left px-6 py-3 flex items-center space-x-3">
                    <span class="material-symbols-rounded">forum</span>
                    <span>Community</span>
                </button>
                <button onclick="showSection('tos')" class="sidebar-item w-full text-left px-6 py-3 flex items-center space-x-3">
                    <span class="material-symbols-rounded">description</span>
                    <span>Terms of Service</span>
                </button>
                <button onclick="showSection('privacy')" class="sidebar-item w-full text-left px-6 py-3 flex items-center space-x-3">
                    <span class="material-symbols-rounded">privacy_tip</span>
                    <span>Privacy Policy</span>
                </button>
                <button onclick="showSection('help')" class="sidebar-item w-full text-left px-6 py-3 flex items-center space-x-3">
                    <span class="material-symbols-rounded">help</span>
                    <span>Help Center</span>
                </button>
            </div>

            <!-- Footer -->
            <div class="p-4 border-t border-white/10 text-sm opacity-70">
                <p>Â© 2024 BUXiQ</p>
                <p class="mt-1">All rights reserved</p>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col overflow-hidden">
        <!-- Mobile Header -->
        <header class="mobile-header glass-effect py-4 px-6 sticky top-0 z-30 border-b border-white/10 md:hidden">
            <div class="flex items-center justify-between">
                <button id="openSidebar" class="text-white">
                    <span class="material-symbols-rounded">menu</span>
                </button>

                <div class="flex items-center space-x-4">
                    <div class="flex items-center bg-black/20 px-3 py-2 rounded-full border border-white/10">
                        <span id="mobileBalance" class="font-medium flex items-center">
                            <span class="material-symbols-rounded text-green-400 mr-1">savings</span>
                            $0.00
                        </span>
                    </div>
                    <div class="relative">
                        <img id="mobileUseravatar" src="https://ui-avatars.com/api/?background=c31432&color=fff&name=User" alt="User Avatar" class="w-10 h-10 rounded-full avatar">
                        <span id="mobileLevel" class="absolute -bottom-1 -right-1 bg-gradient-to-br from-red-600 to-orange-500 text-white text-xs font-bold px-2 py-0.5 rounded-full">1</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content Area -->
        <main class="main-content-area flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar">
             <!-- Notification Banner -->
            <div class="notification-banner relative mb-6">
                <div class="card p-4 bg-gradient-to-r from-red-900/50 to-orange-900/50 border border-red-900/30">
                    <div class="flex items-start">
                        <div class="flex-shrink-0">
                            <span class="material-symbols-rounded text-red-400">info</span>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm font-medium">
                                INFO: (ALL USERS NOW REQUIRE TODO ACTIVITES (OFFERS/SURVEYS) IT DEPENDS ON THE LEVEL REQUIREMNT! + EXPIRATION) IF REQUIREMNT NOT MET YOU WONT BE ABLE TO REDEEM BONUS CODE! AND IF ITS EVEN EXPIRED
                            </p>
                            <p class="text-sm font-medium mt-1">
                                <span class="font-bold">WE HOLD PTS OVER 1000 PTS [FOR 7 DAYS]</span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Activity Logs -->
            <div id="logs" class="card mb-6 h-48 overflow-hidden">
                <div class="p-4 h-full overflow-y-auto custom-scrollbar">
                    <div class="text-center h-full flex items-center justify-center opacity-70 font-medium">
                        <p>Your activity log will appear here</p>
                    </div>
                </div>
            </div>

            <!-- Home Section -->
            <div id="home" class="section active">
                <section class="card p-6 md:p-8 overflow-hidden relative">
                    <!-- Background elements -->
                    <div class="absolute top-0 right-0 w-32 h-32 bg-red-900/20 rounded-full -mr-10 -mt-10"></div>
                    <div class="absolute bottom-0 left-0 w-40 h-40 bg-orange-900/20 rounded-full -ml-20 -mb-20"></div>

                    <!-- Hero Content -->
                    <div class="relative text-center mb-8">
                        <h1 class="text-3xl md:text-4xl font-bold font-space mb-6">
                            <span class="gradient-text">Next-Level</span> Rewards Platform
                        </h1>
                        <p class="text-lg opacity-80 max-w-2xl mx-auto leading-relaxed">
                            Earn crypto, gift cards, and cash by completing simple tasks.
                            <span class="font-medium text-red-300">Join our community of 500,000+ earners.</span>
                        </p>
                    </div>

                    <!-- Earning Methods -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <!-- Survey Card -->
                        <div class="card p-5 hover:border-red-500/30 transition-all">
                            <div class="w-14 h-14 mb-4 mx-auto flex items-center justify-center bg-red-900/20 rounded-xl text-red-400">
                                <span class="material-symbols-rounded text-3xl">quiz</span>
                            </div>
                            <h3 class="text-xl font-bold text-center mb-3">Surveys & Quizzes</h3>
                            <p class="opacity-70 text-sm text-center leading-relaxed">
                                Share your opinions and get rewarded instantly. High-paying market research studies available.
                            </p>
                            <div class="mt-4 pt-4 border-t border-white/10 flex justify-center">
                                <span class="badge badge-primary">Avg. $2-5 per survey</span>
                            </div>
                        </div>

                        <!-- Apps Card -->
                        <div class="card p-5 hover:border-purple-500/30 transition-all">
                            <div class="w-14 h-14 mb-4 mx-auto flex items-center justify-center bg-purple-900/20 rounded-xl text-purple-400">
                                <span class="material-symbols-rounded text-3xl">apps</span>
                            </div>
                            <h3 class="text-xl font-bold text-center mb-3">App Testing</h3>
                            <p class="opacity-70 text-sm text-center leading-relaxed">
                                Try new apps and services. Keep them installed for bonus rewards. iOS & Android supported.
                            </p>
                            <div class="mt-4 pt-4 border-t border-white/10 flex justify-center">
                                <span class="badge badge-accent">$0.50-$3 per app</span>
                            </div>
                        </div>

                        <!-- Games Card -->
                        <div class="card p-5 hover:border-orange-500/30 transition-all">
                            <div class="w-14 h-14 mb-4 mx-auto flex items-center justify-center bg-orange-900/20 rounded-xl text-orange-400">
                                <span class="material-symbols-rounded text-3xl">sports_esports</span>
                            </div>
                            <h3 class="text-xl font-bold text-center mb-3">Game Challenges</h3>
                            <p class="opacity-70 text-sm text-center leading-relaxed">
                                Play mobile games and reach milestones to earn. Casual and hardcore options available.
                            </p>
                            <div class="mt-4 pt-4 border-t border-white/10 flex justify-center">
                                <span class="badge badge-primary">$1-$10+ per game</span>
                            </div>
                        </div>
                    </div>

                    <!-- Divider -->
                    <div class="relative flex py-5 items-center mb-8">
                        <div class="flex-grow border-t border-white/10"></div>
                        <span class="flex-shrink mx-4 opacity-70 font-medium text-sm uppercase tracking-widest">Withdrawal Options</span>
                        <div class="flex-grow border-t border-white/10"></div>
                    </div>

                    <!-- Cashout Options -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Crypto Card -->
                        <div class="card p-5 hover:border-red-500/30 transition-all">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-bold">Crypto</h3>
                                <div class="w-10 h-10 flex items-center justify-center bg-red-900/20 rounded-lg text-red-400">
                                    <span class="material-symbols-rounded">currency_bitcoin</span>
                                </div>
                            </div>
                            <p class="opacity-70 text-sm mb-4">Instant withdrawals to your wallet with low 1% fees</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="badge badge-primary">Bitcoin</span>
                                <span class="badge badge-primary">Ethereum</span>
                                <span class="badge badge-primary">Solana</span>
                                <span class="badge badge-primary">USDT</span>
                            </div>
                        </div>

                        <!-- Gift Cards Card -->
                        <div class="card p-5 hover:border-purple-500/30 transition-all">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-bold">Gift Cards</h3>
                                <div class="w-10 h-10 flex items-center justify-center bg-purple-900/20 rounded-lg text-purple-400">
                                    <span class="material-symbols-rounded">redeem</span>
                                </div>
                            </div>
                            <p class="opacity-70 text-sm mb-4">100+ brands available with instant digital delivery</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="badge badge-accent">Amazon</span>
                                <span class="badge badge-accent">Steam</span>
                                <span class="badge badge-accent">Netflix</span>
                                <span class="badge badge-accent">Spotify</span>
                            </div>
                        </div>

                        <!-- PayPal Card -->
                        <div class="card p-5 hover:border-green-500/30 transition-all">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-xl font-bold">Cash Payments</h3>
                                <div class="w-10 h-10 flex items-center justify-center bg-green-900/20 rounded-lg text-green-400">
                                    <span class="material-symbols-rounded">payments</span>
                                </div>
                            </div>
                            <p class="opacity-70 text-sm mb-4">Get real money in your account with multiple options</p>
                            <div class="flex flex-wrap gap-2">
                                <span class="badge badge-success">PayPal</span>
                                <span class="badge badge-success">Wise</span>
                                <span class="badge badge-success">Revolut</span>
                                <span class="badge badge-success">Bank</span>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Leaderboard Section (Placeholder - not in old code) -->
            <div id="leader" class="section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center font-space mb-6 gradient-text">LEADERBOARD</h2>
                    <p class="text-center opacity-70 mb-8">See who's earning the most!</p>
                    <!-- Leaderboard content goes here -->
                    <div class="text-center opacity-70">
                         <p>Leaderboard data will be loaded here.</p>
                    </div>
                </div>
            </div>

            <!-- User Dashboard Section (Login/Dashboard) -->
            <div id="userdash" class="section hidden">
                 <!-- Login Container -->
                <div id="login-container" class="card p-8 max-w-md mx-auto">
                    <div class="flex justify-center mb-6">
                        <div class="w-16 h-16 rounded-full bg-gradient-to-br from-red-600 to-orange-500 flex items-center justify-center shadow-lg">
                            <span class="material-symbols-rounded text-white text-3xl">lock</span>
                        </div>
                    </div>
                    <h2 class="text-2xl font-bold text-center font-space mb-6 gradient-text">SECURE LOGIN</h2>
                    <form id="loginForm" class="space-y-4">
                        <div>
                            <label for="account" class="block text-sm font-medium text-white/80 mb-1">Account #</label>
                            <input id="account" type="text" required placeholder="Enter your account number"
                                   class="input-field w-full">
                        </div>
                        <div>
                            <label for="clientid" class="block text-sm font-medium text-white/80 mb-1">Client ID</label>
                            <input id="clientid" type="text" required placeholder="Enter your client ID"
                                   class="input-field w-full">
                        </div>
                        <div>
                            <div id="captcha" class="text-center text-orange-400 mb-1 font-space text-lg tracking-wider">25441</div>
                            <input id="captchaInput" type="text" required placeholder="Enter CAPTCHA"
                                   class="input-field w-full">
                        </div>
                        <button type="submit" class="btn-primary w-full py-3 px-4 rounded-lg flex items-center justify-center">
                            <span class="material-symbols-rounded mr-2">login</span>
                            Login
                        </button>
                    </form>
                    <div id="error-msg" class="text-center text-red-400 mt-4 hidden"></div>
                </div>

                <!-- Dashboard (Visible After Login) -->
                <div id="dashboard" class="hidden max-w-4xl mx-auto">
                    <div class="card p-6">
                        <h2 class="text-2xl font-bold text-center font-space mb-6 gradient-text">OFFERWALLS</h2>
                         <p class="text-center opacity-70 mb-8">Access earning opportunities.</p>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Offerwall Buttons -->
                            <!-- CPX Research -->
                            <div class="card p-6 hover:border-red-500/30 transition-all">
                                <div class="flex justify-center py-4">
                                    <img src="https://www.cpx-research.com/main/en/assets/img/logo.svg" alt="CPX Research Logo" class="h-12">
                                </div>
                                <button id="openOfferWallCPX" class="btn-primary w-full mt-4 py-2 px-4 rounded-lg">
                                    Open OfferWall
                                </button>
                            </div>

                            <!-- SushiAds Survey -->
                            <div class="card p-6 hover:border-purple-500/30 transition-all">
                                <div class="flex justify-center py-4 relative">
                                    <img src="https://affi-plat.s3.us-east-2.amazonaws.com/platforms/sushiads-logo-horizontal.png" alt="sushiads Logo" class="h-12">
                                </div>
                                <button id="openOfferWallsads" class="btn-accent w-full mt-4 py-2 px-4 rounded-lg">
                                    Open Survey Wall
                                </button>
                            </div>

                            <!-- SushiAds Offers -->
                            <div class="card p-6 hover:border-purple-500/30 transition-all">
                                <div class="flex justify-center py-4 relative">
                                    <img src="https://affi-plat.s3.us-east-2.amazonaws.com/platforms/sushiads-logo-horizontal.png" alt="sushiads1 Logo" class="h-12">
                                    <span class="absolute top-0 right-0 badge badge-warning">
                                        Offers Only
                                    </span>
                                </div>
                                <button id="openOfferWallsads1" class="btn-accent w-full mt-4 py-2 px-4 rounded-lg">
                                    Open Offer Wall
                                </button>
                            </div>

                            <!-- KiwiWall -->
                            <div class="card p-6 hover:border-red-500/30 transition-all">
                                <div class="flex justify-center py-4">
                                    <img src="https://www.kiwiwall.com/img/logo.png" alt="kiwiwall Logo" class="h-12">
                                </div>
                                <button id="openOfferWallkiwi" class="btn-primary w-full mt-4 py-2 px-4 rounded-lg">
                                    Open OfferWall
                                </button>
                            </div>

                             <!-- BUXiQ Cashout -->
                            <div class="card p-6 hover:border-red-500/30 transition-all">
                                <div class="flex justify-center py-4">
                                    <img src="https://i.imgur.com/3CUrxKO.png" alt="buxiq Logo" class="h-12">
                                </div>
                                <button id="openOfferWallbuxiq" class="btn-primary w-full mt-4 py-2 px-4 rounded-lg">
                                    Cashout
                                </button>
                            </div>

                            <!-- BUXiQ Bonus -->
                            <div class="card p-6 hover:border-red-500/30 transition-all">
                                <div class="flex justify-center py-4">
                                    <img src="https://i.imgur.com/K5in0eX.png" alt="buxiq Logo" class="h-12">
                                </div>
                                <button id="openOfferWallbuxiqbonus" class="btn-primary w-full mt-4 py-2 px-4 rounded-lg">
                                    Bonus
                                </button>
                            </div>

                            <!-- Wannads -->
                            <div class="card p-6 hover:border-purple-500/30 transition-all">
                                <div class="flex justify-center py-4">
                                    <img src="https://affi-plat.s3.us-east-2.amazonaws.com/platforms/wannads-ogotipo-naranja.png" alt="Wannads Logo" class="h-12">
                                </div>
                                <button id="openOfferWallwannads" class="btn-accent w-full mt-4 py-2 px-4 rounded-lg">
                                    Open OfferWall
                                </button>
                            </div>

                            <!-- Chat (Linked from old code) -->
                            <div class="card p-6 hover:border-red-500/30 transition-all">
                                <div class="flex justify-center py-4">
                                    <img src="https://i.imgur.com/JNXYNqp.png" alt="Chat Icon" class="h-12">
                                </div>
                                <button id="openOfferWallchat" class="btn-primary w-full mt-4 py-2 px-4 rounded-lg">
                                    Open Chat
                                </button>
                            </div>

                             <!-- TaskWall -->
                            <div class="card p-6 hover:border-red-500/30 transition-all">
                                <div class="flex justify-center py-4">
                                    <img src="http://publishers.taskwall.io//manager/uploads/logo-2.png" alt="TaskWall Logo" class="h-12">
                                </div>
                                <button id="openOfferWalltaskwall" class="btn-primary w-full mt-4 py-2 px-4 rounded-lg">
                                    Open OfferWall
                                </button>
                            </div>

                            <!-- Porix -->
                            <div class="card p-6 hover:border-purple-500/30 transition-all">
                                <div class="flex justify-center py-4">
                                    <img src="https://i.imgur.com/m3TMe67.png" alt="Porix Logo" class="h-12">
                                </div>
                                <button id="openOfferWallporix" class="btn-accent w-full mt-4 py-2 px-4 rounded-lg">
                                    Open OfferWall
                                </button>
                            </div>

                            <!-- Excentiv -->
                            <div class="card p-6 hover:border-red-500/30 transition-all">
                                <div class="flex justify-center py-4">
                                    <img src="https://excentiv.com/images/app-logo.svg" alt="Excentiv Logo" class="h-12">
                                </div>
                                <button id="openOfferWallExcentiv" class="btn-primary w-full mt-4 py-2 px-4 rounded-lg">
                                    Open OfferWall
                                </button>
                            </div>
                            <!-- Add more offerwall buttons here -->
                        </div>
                         <div class="mt-8 text-center">
                             <button onclick="logout()" class="btn-accent py-2 px-4 rounded-lg">Logout</button>
                         </div>
                    </div>
                </div>
            </div>

             <!-- Redeem Code Section -->
            <div id="earn" class="section hidden">
                 <div class="card p-8 max-w-md mx-auto">
                    <div class="text-center mb-6">
                        <h2 class="text-3xl font-bold font-space mb-2 gradient-text">REDEEM BONUS CODE</h2>
                        <div class="card p-3 bg-orange-900/20 text-orange-300 text-sm font-medium rounded-lg inline-flex items-center border border-orange-900/30">
                            <span class="material-symbols-rounded mr-2 text-orange-400">warning</span>
                            (WHO FIRST REDEEMD HIS/HER PTS! EACH BONUS CODE WILL BE MARKED AS UNUSED) - FIRST COME FIRST SERVED!!!
                        </div>
                    </div>

                    <form id="redeemForm" class="space-y-5">
                        <div>
                            <label for="username" class="block text-sm font-medium text-white/80 mb-1">Username</label>
                            <input type="text" id="username" required placeholder="Enter your username"
                                   class="input-field w-full">
                        </div>

                        <div>
                            <label for="bonusCode" class="block text-sm font-medium text-white/80 mb-1">Bonus Code</label>
                            <input type="text" id="bonusCode" required placeholder="Enter bonus code"
                                   class="input-field w-full">
                        </div>

                        <button type="button" onclick="redeemBonusCode()"
                                class="btn-primary w-full py-3 px-4 rounded-lg flex items-center justify-center">
                            <span class="material-symbols-rounded mr-2">confirmation_number</span>
                            Redeem Bonus Code
                        </button>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label for="amountLocal" class="block text-sm font-medium text-white/80 mb-1">Amount (Local)</label>
                                <input type="text" id="amountLocal" readonly
                                       class="input-field w-full">
                            </div>

                            <div>
                                <label for="amountUsd" class="block text-sm font-medium text-white/80 mb-1">Amount (USD)</label>
                                <input type="text" id="amountUsd" readonly
                                       class="input-field w-full">
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Community Section (Placeholder) -->
            <div id="chat" class="section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center font-space mb-6 gradient-text">COMMUNITY CHAT</h2>
                     <p class="text-center opacity-70 mb-8">Connect with other earners.</p>
                    <!-- Community Chat content goes here -->
                     <div class="text-center opacity-70">
                         <p>Community chat features will be implemented here.</p>
                    </div>
                </div>
            </div>

            <!-- Terms of Service Section -->
            <div id="tos" class="section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center font-space mb-6 gradient-text">TERMS OF SERVICE</h2>
                    <div class="text-center mb-6">
                        <p class="opacity-70 text-sm mb-4">Last Updated: Sat Mar 29 8:47 PM PST</p>
                        <div class="h-px bg-gradient-to-r from-transparent via-red-500 to-transparent my-4"></div>
                    </div>

                    <div class="space-y-6">
                        <div class="card p-5 bg-red-900/10 border border-red-900/30">
                            <h3 class="text-lg font-bold mb-3">1. Account Issuance & Ownership:</h3>
                            <ul class="list-disc pl-5 space-y-2 opacity-80">
                                <li>All accounts are solely issued by BuxIQ Website Owner at our discretion</li>
                                <li>Accounts represent limited licenses revocable at any time</li>
                                <li>No right to transfer, sell, or inherit accounts</li>
                                <li>We reserve absolute right to deny/revoke accounts without explanation</li>
                            </ul>
                        </div>

                        <div class="card p-5 bg-red-900/10 border border-red-900/30">
                            <h3 class="text-lg font-bold mb-3">2. Identity Verification:</h3>
                            <ul class="list-disc pl-5 space-y-2 opacity-80">
                                <li>Government-issued ID + biometric verification required</li>
                                <li>18+ only in regulated jurisdictions</li>
                                <li>Permanent ban for false identity documentation</li>
                                <li>Ongoing KYC/AML compliance checks may be required</li>
                            </ul>
                        </div>

                        <div class="card p-5 bg-red-900/10 border border-red-900/30">
                            <h3 class="text-lg font-bold mb-3">3. Usage Restrictions:</h3>
                            <ul class="list-disc pl-5 space-y-2 opacity-80">
                                <li>Strictly no VPNs, proxies, or network obfuscation</li>
                                <li>Automated account creation tools prohibited</li>
                                <li>Hardware fingerprinting used to detect multi-accounting</li>
                                <li>Behavioral analytics monitor for suspicious patterns</li>
                            </ul>
                        </div>

                        <div class="text-sm italic opacity-70 pt-4 border-t border-red-900/30">
                            <p>By accessing this service, you (a) certify legal capacity to enter binding agreements, (b) waive all class action rights, and (c) consent to arbitration in [Jurisdiction] under [Governing Law].</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Privacy Policy Section -->
            <div id="privacy" class="section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center font-space mb-6 gradient-text">PRIVACY POLICY</h2>
                    <div class="text-center mb-6">
                        <p class="opacity-70 text-sm mb-4">Last Updated: Sat Mar 29 8:47 PM PST</p>
                        <div class="h-px bg-gradient-to-r from-transparent via-red-500 to-transparent my-4"></div>
                    </div>

                    <div class="space-y-6">
                        <div class="card p-5 bg-red-900/10 border border-red-900/30">
                            <h3 class="text-lg font-bold mb-3">1. Information We Collect:</h3>
                            <ul class="list-disc pl-5 space-y-2 opacity-80">
                                <li>Email address (required for rewards distribution)</li>
                                <li>IP address (collected after offer/survey completion)</li>
                                <li>All usernames and passwords (provided by BuxIQ owner only)</li>
                                <li>User activity and interaction data</li>
                            </ul>
                        </div>

                        <div class="card p-5 bg-red-900/10 border border-red-900/30">
                            <h3 class="text-lg font-bold mb-3">2. Account Management:</h3>
                            <ul class="list-disc pl-5 space-y-2 opacity-80">
                                <li>Users cannot create accounts themselves</li>
                                <li>All accounts are created and managed by BuxIQ administration</li>
                                <li>Account credentials are provided to approved users only</li>
                            </ul>
                        </div>

                        <div class="card p-5 bg-red-900/10 border border-red-900/30">
                            <h3 class="text-lg font-bold mb-3">3. Data Storage:</h3>
                            <ul class="list-disc pl-5 space-y-2 opacity-80">
                                <li>Google Sheets is used as our primary database system</li>
                                <li>Data is encrypted both in transit and at rest</li>
                                <li>Regular backups are performed to prevent data loss</li>
                            </ul>
                        </div>

                         <div class="card p-5 bg-red-900/10 border border-red-900/30">
                            <h3 class="text-lg font-bold mb-3">4. Data Usage:</h3>
                            <ul class="list-disc pl-5 space-y-2 opacity-80">
                                <li>Information is used solely for platform operation and reward distribution</li>
                                <li>We do not sell or share your personal data with third parties, except as required for payment processing or legal compliance.</li>
                                <li>Aggregated, anonymized data may be used for analytics and service improvement.</li>
                            </ul>
                        </div>
                         <div class="card p-5 bg-red-900/10 border border-red-900/30">
                            <h3 class="text-lg font-bold mb-3">5. Security Measures:</h3>
                            <ul class="list-disc pl-5 space-y-2 opacity-80">
                                <li>We implement industry-standard security measures to protect your data.</li>
                                <li>Access to user data is restricted to authorized personnel only.</li>
                                <li>However, no online transmission or storage is 100% secure. You use the service at your own risk.</li>
                            </ul>
                        </div>
                         <div class="card p-5 bg-red-900/10 border border-red-900/30">
                            <h3 class="text-lg font-bold mb-3">6. Changes to this Policy:</h3>
                            <ul class="list-disc pl-5 space-y-2 opacity-80">
                                <li>We may update this Privacy Policy periodically.</li>
                                <li>We will notify you of any significant changes by posting the new policy on this page.</li>
                                <li>Your continued use of the service after changes constitutes acceptance.</li>
                            </ul>
                        </div>
                         <div class="card p-5 bg-red-900/10 border border-red-900/30">
                            <h3 class="text-lg font-bold mb-3">7. Contact Us:</h3>
                            <ul class="list-disc pl-5 space-y-2 opacity-80">
                                <li>If you have questions about this Privacy Policy, please contact us via the Help Center.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

             <!-- Help Center Section (Placeholder) -->
            <div id="help" class="section hidden">
                <div class="card p-6 md:p-8">
                    <h2 class="text-3xl font-bold text-center font-space mb-6 gradient-text">HELP CENTER</h2>
                     <p class="text-center opacity-70 mb-8">Find answers to common questions or contact support.</p>
                    <!-- Help Center content goes here -->
                     <div class="text-center opacity-70">
                         <p>Help documentation and support contact forms will be available here.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Iframe Container -->
    <div id="iframeContainer" class="hidden fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-4">
        <div class="w-full max-w-4xl h-5/6 flex flex-col">
            <div class="glass-effect rounded-t-lg p-3 flex justify-between items-center border-b border-white/10">
                <div class="flex items-center">
                    <div class="h-3 w-3 rounded-full bg-red-500 mr-2"></div>
                    <div class="h-3 w-3 rounded-full bg-yellow-500 mr-2"></div>
                    <div class="h-3 w-3 rounded-full bg-green-500"></div>
                </div>
                <button onclick="closeIframe()" class="text-white/50 hover:text-white">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <iframe id="dashboardIframe" class="w-full flex-grow border border-white/10 rounded-b-lg bg-black/20" frameborder="0"></iframe>
        </div>
    </div>


    <script>
        const sidebar = document.getElementById('sidebar');
        const openSidebarBtn = document.getElementById('openSidebar');
        const closeSidebarBtn = document.getElementById('closeSidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');
        const sidebarItems = document.querySelectorAll('.sidebar-item');
        const sections = document.querySelectorAll('.section');
        let captchaCode = generateCaptcha(); // Initialize captcha

        // Function to open the sidebar
        function openSidebar() {
            sidebar.classList.add('open');
            sidebarOverlay.classList.remove('hidden');
        }

        // Function to close the sidebar
        function closeSidebar() {
            sidebar.classList.remove('open');
            sidebarOverlay.classList.add('hidden');
        }

        // Event listeners for sidebar buttons
        if (openSidebarBtn) openSidebarBtn.addEventListener('click', openSidebar);
        if (closeSidebarBtn) closeSidebarBtn.addEventListener('click', closeSidebar);
        if (sidebarOverlay) sidebarOverlay.addEventListener('click', closeSidebar); // Close sidebar when clicking overlay

        // Function to show a specific section and hide others
        function showSection(sectionId) {
            // Hide all sections
            sections.forEach(section => {
                section.classList.remove('active');
                section.classList.add('hidden'); // Ensure it's hidden
            });

            // Show the selected section
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.remove('hidden');
                targetSection.classList.add('active');
            }

            // Update active state in sidebar
            sidebarItems.forEach(item => {
                item.classList.remove('active');
            });
            const activeItem = document.querySelector(`.sidebar-item[onclick="showSection('${sectionId}')"]`);
            if (activeItem) {
                activeItem.classList.add('active');
            }

            // Close sidebar on mobile after selection
            if (window.innerWidth <= 768) { // Using 768px for mobile breakpoint
                closeSidebar();
            }
        }

        // --- Functions from the "Very Old Code" ---

        // User Dashboard Login
        function generateCaptcha() {
            const captcha = Math.floor(10000 + Math.random() * 90000);
            const captchaElement = document.getElementById('captcha');
            if (captchaElement) {
                captchaElement.textContent = `Enter: ${captcha}`;
            }
            return captcha;
        }


        function logout() {
            const dashboard = document.getElementById('dashboard');
            const loginContainer = document.getElementById('login-container');
            const accountInput = document.getElementById('account');
            const clientidInput = document.getElementById('clientid');
            const captchaInput = document.getElementById('captchaInput');
            const errorMsg = document.getElementById('error-msg');

            if (dashboard && loginContainer && accountInput && clientidInput && captchaInput && errorMsg) {
                dashboard.classList.add('hidden');
                loginContainer.classList.remove('hidden');
                accountInput.value = '';
                clientidInput.value = '';
                captchaInput.value = '';
                errorMsg.classList.add('hidden'); // Hide error message on logout
                captchaCode = generateCaptcha(); // Generate new captcha on logout
            } else {
                 console.warn("Logout elements not found.");
            }
        }

        // Attach login form submit listener
        const loginForm = document.getElementById('loginForm');
        if (loginForm) {
             loginForm.addEventListener('submit', async function(e) {
                e.preventDefault();

                const account = document.getElementById('account').value.trim();
                const clientid = document.getElementById('clientid').value.trim();
                const captchaInput = document.getElementById('captchaInput').value.trim();
                const errorMsg = document.getElementById('error-msg');


                if (captchaInput != captchaCode) {
                    if (errorMsg) {
                         errorMsg.textContent = 'Invalid CAPTCHA';
                         errorMsg.classList.remove('hidden');
                    } else {
                         alert('Invalid CAPTCHA');
                    }
                    captchaCode = generateCaptcha();
                    document.getElementById('captchaInput').value = '';
                    return;
                }

                try {
                    // Ensure the URL is correct and accessible
                    const response = await fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vQHuo-I6k4RbAnXvz_FvCzshqg7Cm5dqAXwNkvDLpgpZH84OGUSbX6TiOUfMrCHv3CiNnLnx0IhzNZC/pub?gid=0&single=true&output=csv');
                    if (!response.ok) throw new Error('Failed to fetch data: ' + response.statusText);

                    const data = await response.text();
                    const rows = data.split('\n').map(row => row.split(','));
                    // Assuming structure: Account#, Client ID, Status, Balance, Username, Avatar URL, Level
                    const user = rows.find(row => row[0] === account && row[1] === clientid);

                    const useravatarElement = document.getElementById('useravatar');
                    const mobileUseravatarElement = document.getElementById('mobileUseravatar');
                    const levelElement = document.getElementById('level');
                    const mobileLevelElement = document.getElementById('mobileLevel');
                    const balanceElement = document.getElementById('balance');
                    const usernameDisplayElement = document.getElementById('usernameDisplay');
                    const dashboard = document.getElementById('dashboard');
                    const loginContainer = document.getElementById('login-container');


                    if (user) {
                        const userStatus = user[2] ? user[2].trim().toLowerCase() : '';
                        const userBalance = user[3] || '0.00';
                        const userUsername = user[4] || 'User';
                        const userAvatarUrl = user[5] || `https://ui-avatars.com/api/?background=c31432&color=fff&name=${encodeURIComponent(userUsername)}`;
                        const userLevel = user[6] || '1';


                        if (userStatus === 'blocked') {
                             if (errorMsg) {
                                errorMsg.textContent = 'Your account is blocked.';
                                errorMsg.classList.remove('hidden');
                             } else {
                                alert('Your account is blocked.');
                             }
                            document.getElementById('account').value = '';
                            document.getElementById('clientid').value = '';
                            document.getElementById('captchaInput').value = '';
                            captchaCode = generateCaptcha(); // Generate new captcha
                        } else {
                            // Update UI elements
                            if (useravatarElement) useravatarElement.src = userAvatarUrl;
                            if (mobileUseravatarElement) mobileUseravatarElement.src = userAvatarUrl;
                            if (levelElement) levelElement.textContent = userLevel;
                            if (mobileLevelElement) mobileLevelElement.textContent = userLevel;
                            if (balanceElement) balanceElement.innerHTML = `<span class="currency">$</span> ${userBalance}`;
                            if (usernameDisplayElement) usernameDisplayElement.textContent = userUsername;
                             // Update mobile balance display
                            const mobileBalanceElement = document.getElementById('mobileBalance');
                            if (mobileBalanceElement) mobileBalanceElement.innerHTML = `<span class="material-symbols-rounded text-green-400 mr-1">savings</span> $${userBalance}`;


                            // Store account number (optional, for persistent login)
                            localStorage.setItem('buxiq_account', account);

                            // Switch views
                            if (loginContainer) loginContainer.classList.add('hidden');
                            if (dashboard) dashboard.classList.remove('hidden');
                             if (errorMsg) errorMsg.classList.add('hidden'); // Hide error on success

                            console.log("Login successful:", userUsername);
                        }
                    } else {
                        if (errorMsg) {
                            errorMsg.textContent = 'Invalid credentials';
                            errorMsg.classList.remove('hidden');
                        } else {
                            alert('Invalid credentials');
                        }
                         document.getElementById('captchaInput').value = ''; // Clear captcha on failed login
                         captchaCode = generateCaptcha(); // Generate new captcha
                    }
                } catch (error) {
                    console.error("Login error:", error);
                     if (errorMsg) {
                        errorMsg.textContent = 'Error: Could not load data. Please try again later.';
                        errorMsg.classList.remove('hidden');
                     } else {
                        alert('Error: Could not load data. Please try again later.');
                     }
                     document.getElementById('captchaInput').value = ''; // Clear captcha on error
                     captchaCode = generateCaptcha(); // Generate new captcha
                }
            });
        }


        // Offerwall Iframes
        function openIframe(url) {
            const iframeContainer = document.getElementById('iframeContainer');
            const dashboardIframe = document.getElementById('dashboardIframe');
            if (iframeContainer && dashboardIframe) {
                dashboardIframe.src = url;
                iframeContainer.classList.remove('hidden');
            } else {
                 console.warn("Iframe elements not found.");
            }
        }

        function closeIframe() {
            const iframeContainer = document.getElementById('iframeContainer');
            const dashboardIframe = document.getElementById('dashboardIframe');
             if (iframeContainer && dashboardIframe) {
                iframeContainer.classList.add('hidden');
                dashboardIframe.src = ''; // Clear the iframe source
             }
        }

        // Attach listeners to Offerwall buttons
        const offerwallButtons = {
            'openOfferWallCPX': (user) => `https://offers.cpx-research.com/index.php?app_id=26219&ext_user_id=${user}&username=${user}&subid_1=&subid_2`,
            'openOfferWallsads': (user) => `https://offerwall.sushiads.com/surveywall?apiKey=67e76c74ca62f460071524&userId=${user}`,
            'openOfferWallchat': () => `https://bux-iq.netlify.app/chat.html`, // Does not use user ID
            'openOfferWallwannads': (user) => `https://earn.wannads.com/wall?apiKey=67d3d43d63631681386947&userId=${user}`,
            'openOfferWallsads1': (user) => `https://offerwall.sushiads.com/wall?apiKey=67e76c74ca62f460071524&userId=${user}`,
            'openOfferWallExcentiv': (user) => `https://excentiv.com/offerwall/?&userid=${user}&key=q1v8KGQfCjmNeXnhsHyo`,
            'openOfferWallbuxiq': () => `https://bux-iq.netlify.app/cashout.html`, // Does not use user ID
            'openOfferWallbuxiqbonus': () => `https://bux-iq.netlify.app/bonus.html`, // Does not use user ID
            'openOfferWallkiwi': (user) => `https://www.kiwiwall.com/wall/ICKEzWAlZv8O6QOXSxFdfJ7jLfU6RUtl/${user}`,
            'openOfferWalltaskwall': (user) => `https://wall.taskwall.io/?app_id=532d75c281c9725adc821ff7de18c199&userid=${user}`,
            'openOfferWallporix': (user) => `https://porix.org/app/iframe/10221/${user}`
        };

        Object.keys(offerwallButtons).forEach(buttonId => {
            const button = document.getElementById(buttonId);
            if (button) {
                button.addEventListener('click', function() {
                    const userAccount = document.getElementById('account').value.trim(); // Get account number from login form
                    const urlGenerator = offerwallButtons[buttonId];
                    const url = urlGenerator(userAccount); // Pass user account if needed
                    openIframe(url);
                });
            } else {
                 console.warn(`Button with ID '${buttonId}' not found.`);
            }
        });


        // Update Balance
        async function updateBalance() {
            const account = document.getElementById('account').value.trim(); // Get account from input
            const clientid = document.getElementById('clientid').value.trim(); // Get clientid from input

            if (!account || !clientid) {
                console.warn("Account or Client ID not entered. Cannot update balance.");
                // Optionally show a message to the user
                return;
            }

            try {
                const response = await fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vQHuo-I6k4RbAnXvz_FvCzshqg7Cm5dqAXwNkvDLpgpZH84OGUSbX6TiOUfMrCHv3CiNnLnx0IhzNZC/pub?gid=0&single=true&output=csv');
                if (!response.ok) throw new Error('Failed to fetch data: ' + response.statusText);

                const data = await response.text();
                const rows = data.split('\n').map(row => row.split(','));
                 // Assuming structure: Account#, Client ID, Status, Balance, Username, Avatar URL, Level
                const user = rows.find(row => row[0] === account && row[1] === clientid);

                const balanceElement = document.getElementById('balance');
                const mobileBalanceElement = document.getElementById('mobileBalance');

                if (user) {
                     const userBalance = user[3] || '0.00';
                     if (balanceElement) balanceElement.innerHTML = `<span class="currency">$</span> ${userBalance}`;
                     if (mobileBalanceElement) mobileBalanceElement.innerHTML = `<span class="material-symbols-rounded text-green-400 mr-1">savings</span> $${userBalance}`;
                    console.log('Balance updated for user:', account);
                } else {
                    console.warn('User not found for balance update.');
                    // Optionally reset balance display if user not found
                     if (balanceElement) balanceElement.innerHTML = `<span class="currency">$</span> 0.00`;
                     if (mobileBalanceElement) mobileBalanceElement.innerHTML = `<span class="material-symbols-rounded text-green-400 mr-1">savings</span> $0.00`;
                }
            } catch (error) {
                console.error('Error updating balance:', error);
                // Optionally show an error message to the user
            }
        }

        // Recent Activity Logs
        async function fetchCSV() {
            try {
                // Ensure the URL is correct and accessible
                const response = await fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vQ3p3daAnCETfJtrUUvaiNqoUreYkn9FIHus6rEyq-e8E8oLaV51L_NrVWjHp1CyTv3UqBqryq3aH-0/pub?gid=0&single=true&output=csv');
                if (!response.ok) throw new Error('Failed to fetch logs: ' + response.statusText);

                const data = await response.text();
                const rows = data.split('\n').slice(1); // Skip header row
                const logsContainer = document.getElementById('logs') ? document.getElementById('logs').querySelector('div') : null;

                if (logsContainer) {
                    logsContainer.innerHTML = ''; // Clear existing logs

                    rows.forEach((row, index) => {
                         // Assuming structure: Timestamp, Offerwall, Username, Offer Name, Points, Status, Amount ($)
                        const columns = row.split(',').map(item => item.trim());
                        if (columns.length >= 7 && columns[2] && columns[6]) { // Check if Username and Amount columns exist
                            const username = columns[2];
                            const amount = columns[6];

                            const logEntry = document.createElement('div');
                            logEntry.className = 'flex items-center justify-between p-3 mb-2 bg-white/10 rounded-lg text-sm'; /* Adjusted styling */
                            logEntry.style.animationDelay = `${index * 50}ms`;
                            logEntry.innerHTML = `
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center bg-red-600 rounded-full text-white"> <!-- Adjusted background color -->
                                        <span class="text-sm font-bold">${username.charAt(0).toUpperCase()}</span>
                                    </div>
                                    <div>
                                        <div class="text-sm font-medium text-white">${username}</div> <!-- Adjusted text color -->
                                    </div>
                                </div>
                                <div class="text-green-400 font-semibold">+${amount}</div> <!-- Adjusted text color -->
                            `;

                            logsContainer.prepend(logEntry); // Add to the beginning to show newest first
                        }
                    });

                    // If no logs, display the placeholder
                    if (logsContainer.childElementCount === 0) {
                        logsContainer.innerHTML = '<div class="text-center h-full flex items-center justify-center opacity-70 font-medium"><p>Your activity log will appear here</p></div>';
                    }

                } else {
                     console.warn("Activity logs container not found.");
                }
            } catch (error) {
                console.error('Error fetching activity logs:', error);
                const logsContainer = document.getElementById('logs') ? document.getElementById('logs').querySelector('div') : null;
                 if (logsContainer) {
                     logsContainer.innerHTML = '<div class="text-center h-full flex items-center justify-center text-red-400 font-medium"><p>Error loading activity logs.</p></div>';
                 }
            }
        }

        // Bonus Code Redemption
        async function redeemBonusCode() {
            const username = document.getElementById('username').value.trim();
            const bonusCode = document.getElementById('bonusCode').value.trim();
            const amountLocalInput = document.getElementById('amountLocal');
            const amountUsdInput = document.getElementById('amountUsd');

            if (!username || !bonusCode) {
                alert('Please fill in all fields');
                return;
            }

            // Clear previous results
            if (amountLocalInput) amountLocalInput.value = '';
            if (amountUsdInput) amountUsdInput.value = '';


            try {
                // Send a request to the Google Apps Script web app to fetch data from the Google Sheets
                 // Ensure the URL is correct and accessible
                const response = await fetch(`https://script.google.com/macros/s/AKfycbxmqOnPJLPuHD6u_DD66bwY0R4MYQ8v9uF1Mv0pm8Sg9APSS4R4oXzbs3zin2FoTMK5/exec?username=${encodeURIComponent(username)}&bonusCode=${encodeURIComponent(bonusCode)}`);
                const result = await response.text();

                console.log('Bonus redemption result:', result); // For debugging

                if (result.includes("Error")) {
                    alert(result);
                } else {
                    const [amountLocal, amountUsd] = result.split(','); // Expecting data in format "amountLocal,amountUsd"
                    if (amountLocalInput) amountLocalInput.value = amountLocal.trim();
                    if (amountUsdInput) amountUsdInput.value = amountUsd.trim();
                    sendPostback(amountLocal, amountUsd, username, bonusCode); // Call the postback function
                    alert('Bonus code redeemed successfully!');
                }
            } catch (error) {
                console.error('Error redeeming bonus code:', error);
                alert('Error redeeming bonus code. Please try again.');
            }
        }

        // Postback Function (from old code)
        function sendPostback(amountLocal, amountUsd, username, bonusCode) {
            const timestamp = new Date().getTime();
            // Ensure the URL is correct and accessible
            const postbackUrl = `https://script.google.com/macros/s/AKfycbyvw4LiShTvgnTTLRLISnTYJRhqeStmZgL9YD_ZuQEJubcDPH8bSbGpHPCVHDfx0dbW/exec?status=success&trans_id=${timestamp}&user_id=${encodeURIComponent(username)}&bonusCode=${encodeURIComponent(bonusCode)}&sub_id=&sub_id_2=&amount_local=${encodeURIComponent(amountLocal)}&amount_usd=${encodeURIComponent(amountUsd)}&offer_id=bonus_redeem&hash=secure_hash_value&ip_click=192.168.1.1`; // Added offer_id and updated hash/ip placeholders

            fetch(postbackUrl)
                .then(response => response.json()) // Assuming the script returns JSON
                .then(data => console.log('Postback Success:', data))
                .catch(error => console.error('Postback Error:', error));
        }


        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Initial setup
            fetchCSV(); // Load initial activity logs
            generateCaptcha(); // Generate initial captcha

            // Check if user is already logged in (e.g., from localStorage)
            // This part was not in the old code but is good practice.
            // For this merge, we'll rely on the login form for simplicity,
            // but you could add a check here to skip the login if a valid
            // account is found in localStorage and fetch user data.

            // Set default active section
            const initialSection = window.location.hash ? window.location.hash.substring(1) : 'home';
            if (document.getElementById(initialSection)) {
                showSection(initialSection);
            } else {
                showSection('home'); // Default to home if hash is invalid
            }

             // Add event listener for the update balance button after it exists
             const updateBalanceBtn = document.getElementById('updateBalanceBtn');
             if(updateBalanceBtn) {
                 updateBalanceBtn.addEventListener('click', updateBalance);
             } else {
                 console.warn("Update balance button not found.");
             }

             // Ensure mobile balance is updated on load
             updateBalance(); // Call once on load to populate balance
        });

        // Update mobile balance display when main balance changes (optional, could be done within updateBalance)
        // This is less critical if updateBalance handles both
        // const balanceSpan = document.getElementById('balance').querySelector('span:last-child');
        // const mobileBalanceSpan = document.getElementById('mobileBalance').querySelector('span:last-child');
        // if (balanceSpan && mobileBalanceSpan) {
        //     const observer = new MutationObserver(() => {
        //         mobileBalanceSpan.textContent = balanceSpan.textContent;
        //     });
        //     observer.observe(balanceSpan, { characterData: true, subtree: true });
        // }


    </script>
</body>
</html>
